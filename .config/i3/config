# i3 config file (v4)

# {{{ GENERAL
font pango: sans 9

# default applications
# set $term urxvt
set $term alacritty
set $browser firefox
set $launcher rofi -show run
set $bar polybar_start

# Locker
set $Locker lockscreen

# Modifier keys #
set $alt Mod1
set $win Mod4

# exec bindings
set $exec exec
set $execa exec_always

# border settings
default_border pixel 2
# hide_edge_borders no

# gaps settings
gaps inner 5
gaps outer 0
# gaps right 340
focus_wrapping yes

# setting some colors
set_from_resource $bg background
set_from_resource $fg foreground
set_from_resource $color0 color0
set_from_resource $color1 color1
set_from_resource $color2 color2
set_from_resource $color3 color3
set_from_resource $color4 color4
set_from_resource $color5 color5
set_from_resource $color6 color6
set_from_resource $color7 color7
set_from_resource $color8 color8
set_from_resource $color9 color9
set_from_resource $color10 color10
set_from_resource $color11 color11
set_from_resource $color12 color12
set_from_resource $color13 color13
set_from_resource $color14 color14
set_from_resource $color15 color15
set $tra #00000000

# some color settings
# class                         border          backgr.         text            indicator               child_border
client.focused                  $color1         $color1         $color7         #2e9ef4                 #285577
client.focused_inactive         $color1         $color1         $color0         #484e50                 #5f676a
client.unfocused                $tra            $color0         #888888         #292d2e                 #222222
client.urgent                   $color3         $color0         $color0         #900000                 #900000
client.placeholder              #000000         #0c0c0c         $color0         #000000                 #0c0c0c

client.background       $tra

# }}}

# {{{ KEYBINDINGS

# Directions #
set $up k
set $down j
set $left h
set $right l

# Display Brightness #
bindsym XF86MonBrightnessUp exec xbacklight -inc 5
bindsym XF86MonBrightnessDown exec xbacklight -dec 5

# Media Player #
bindsym XF86AudioPlay exec playerctl play-pause
bindsym XF86AudioPause exec playerctl pause
bindsym XF86AudioPrev exec playerctl previous
bindsym XF86AudioNext exec playerctl next

# Screenshot #
# bindsym Print exec scrot -q 100 -e 'mv $f ~/screenshots/'
bindsym Print exec maim ~/screenshots/screenshot_$(date +%m%d%g)_$(date +%H:%M).png
bindsym $alt+x exec maim -s ~/screenshots/screenslice_$(date +%m%d%g)_$(date +%H:%M).png

# Volume Controls #
bindsym XF86AudioRaiseVolume exec --no-startup-id pactl set-sink-volume 0 +5%
bindsym XF86AudioLowerVolume exec --no-startup-id pactl set-sink-volume 0 -5%
bindsym XF86AudioMute exec --no-startup-id pactl set-sink-mute 0 toggle

# floating modifier
floating_modifier $alt
bindcode $alt+Shift+65 floating toggle

# some launching
# bindsym $alt+Return $exec $term -e "env TERM=screen-256color-it tmux"
# bindsym $alt+Return $exec $term -e tmux
bindsym $alt+Return $exec $term -e bash -ic tmux
bindsym $alt+t $exec $term
bindsym $alt+Shift+q [con_id="__focused__" instance="^(?!__scratchpad).*$"] kill
bindsym $win+d $exec $launcher
bindsym $alt+f $exec $term -e bash -ic ranger
bindsym $alt+d $exec $browser

# moving around
bindsym $alt+$left focus left
bindsym $alt+$right focus right
bindsym $alt+$up focus up
bindsym $alt+$down focus down

bindsym $alt+Shift+$left move left
bindsym $alt+Shift+$right move right
bindsym $alt+Shift+$up move up
bindsym $alt+Shift+$down move down

bindsym $alt+Shift+Left move left
bindsym $alt+Shift+Right move right
bindsym $alt+Shift+Up move up
bindsym $alt+Shift+Down move down

# split
bindsym $alt+c split h
bindsym $alt+v split v

# changing views
bindsym $alt+s layout stacked
bindsym $alt+w layout tabbed
bindsym $alt+e layout toggle split
bindsym $alt+n focus parent

# reloading and restarting i3
bindsym $alt+Shift+c reload
bindsym $alt+Shift+r restart

# resizing
bindsym $alt+y resize shrink width 10px
bindsym $alt+u resize grow height 10px
bindsym $alt+i resize shrink height 10px
bindsym $alt+o resize grow width 10px

# reload polybar
bindsym $alt+p exec polybar_start

# power options
bindsym $win+e exec --no-startup-id lockscreen
bindsym $win+s exec --no-startup-id lockscreen && systemctl suspend
bindsym $win+Shift+r exec --no-startup-id systemctl reboot
bindsym $win+Shift+s exec --no-startup-id systemctl poweroff -i

# scratchpad stuff - will have a terminal window
bindsym F12 scratchpad show

# move a workspace to the next? display
bindsym $alt+Tab move workspace to output right

# rofi-bluetooth
bindsym $alt+b exec --no-startup-id rofi-bluetooth
# }}}

# {{{ WORKSPACE

# defining the workspace variables
set $ws1 "1"
set $ws2 "2"
set $ws3 "3"
set $ws4 "4"
set $ws5 "5"
set $ws6 "6"
set $ws7 "7"
set $ws8 "8"
set $ws9 "9"

# switch to workspace
bindsym Mod1+1 workspace $ws1
bindsym Mod1+2 workspace $ws2
bindsym Mod1+3 workspace $ws3
bindsym Mod1+4 workspace $ws4
bindsym Mod1+5 workspace $ws5
bindsym Mod1+6 workspace $ws6
bindsym Mod1+7 workspace $ws7
bindsym Mod1+8 workspace $ws8
bindsym Mod1+9 workspace $ws9

# move focused container to workspace
bindsym Mod1+Shift+1 move container to workspace $ws1
bindsym Mod1+Shift+2 move container to workspace $ws2
bindsym Mod1+Shift+3 move container to workspace $ws3
bindsym Mod1+Shift+4 move container to workspace $ws4
bindsym Mod1+Shift+5 move container to workspace $ws5
bindsym Mod1+Shift+6 move container to workspace $ws6
bindsym Mod1+Shift+7 move container to workspace $ws7
bindsym Mod1+Shift+8 move container to workspace $ws8
bindsym Mod1+Shift+9 move container to workspace $ws9

# workspace movement
workspace_auto_back_and_forth yes
bindsym $win+Left workspace prev
bindsym $win+$left workspace prev
bindsym $win+Right workspace next
bindsym $win+$right workspace next

# bind to workspaces
assign [class="Firefox"] $ws1
assign [class="Opera"] $ws1
assign [class="Slack"] $ws8
assign [class="discord"] $ws8
for_window [class="Spotify"] move container to workspace $ws9
# }}}

# {{{ STARTUP APPS

# setting background image
exec --no-startup-id feh --bg-fill $HOME/.config/i3/wall.png

# compositor
exec_always picom --config $HOME/.config/compton/compton.conf -b

# conky
# exec --no-startup-id conky --config ~/.config/conky/conky.config

# lock screen on boot
exec --no-startup-id $Locker ~/.config/i3/wall.png

# network manager applet
exec --no-startup-id nm-applet

# blueman applet
exec --no-startup-id blueman-applet

# geoclue
exec --no-startup-id /usr/lib/geoclue-2.0/demos/agent

# dunst
exec --no-startup-id dunst

# redshift - two settings based on location
exec --no-startup-id redshift-gtk

# wal
# exec_always wal -R

# polybar
exec --no-startup-id $bar

# scratchpad terminal
for_window [title="scratchpad"] floating enable
for_window [title="scratchpad"] resize 1200 800
for_window [title="scratchpad"] move scratchpad
exec --no-startup-id alacritty -t scratchpad
# }}}

